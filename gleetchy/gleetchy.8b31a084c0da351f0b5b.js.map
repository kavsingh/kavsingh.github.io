{"version":3,"sources":["webpack:///../src/index.js"],"names":[],"mappings":"8BACA,yFAEa,aAKQ,cAG0B,IAX/C,YAW+C,SAIrC,IAAU,mBACX,CAAQ,EACR,eAAa,mBACb,CACH,gBACA,cAGA,OAII,EAAY,EAAD,EAAS,kBACY,GAAK,EADjB,WACV,WADU,qBACH,WADG,UAGlB,aADA,QAIA,EAAmB,kEAGjB,EAAe,EAHE,EAMjB,GANiB,MAOjB,GAPiB,GAWpB,CAjBD,eAkBO,CACA,aA5BA,sCAVI,uBAqFlB,wBAIA,+mKAjDA,2EAED,G,EAAoB,sHACoB,4CAA9B,2CAAG,GADO,0CACK,uIAED,GAAC,EAAU,uCACjB,kEACT,uCACO,MAAW,KAFT,QAIf,oDAImC,GACrC,eAG6B,0+BACL,aAAf,6IAIP,0BACF,C,6CAEkD,EACrB,0BAApB,sBACR,EAAe,mBAChB,E,8DAGC,EAAK,oBAIL,GAAK,EACN,kMAIA,iCAGqC,wDAOlB,WAClB,EAAK,UAA+B,wBACrC,4DAED,Y,OACE,KAAS,UAAT,CAAqB,MAAL,MAAW,QAC5B,E,iCAG2B,4DAC1B,KAAO,WAAc,MAAd,MAAP,UACD,E,mCA1GqB,kBACpB,GAAG,aADiB","file":"gleetchy.8b31a084c0da351f0b5b.js","sourcesContent":["import React from 'react';\nimport value from 'popmotion/reactions/value';\n\nexport class MotionValue extends React.Component {\n  static defaultProps = {\n    v: 0\n  };\n\n  constructor(props) {\n    super(props);\n\n    const { v, onStateChange, initialState } = props;\n\n    const isCompositeValue = (typeof v !== 'number');\n\n    const context = {};\n    this.value = value(v);\n    this.valueState = initialState;\n    this.state = {\n      v,\n      setRef: (ref) => {\n        if (ref !== null) this.ref = ref;\n      },\n      velocity: this.value.getVelocity(),\n      state: this.valueState,\n      setStateTo: onStateChange ? Object.keys(onStateChange)\n        .reduce((acc, key) => {\n          acc[key] = (arg) => {\n            const { state, setStateTo } = this.state;\n            const isArgFunction = (typeof arg === 'function');\n            const e = isArgFunction ? undefined : arg;\n            const onComplete = isArgFunction ? arg : undefined;\n\n            onStateChange[key]({\n              value: this.value,\n              ref: this.ref,\n              previousState: state,\n              setStateTo,\n              e,\n              onComplete,\n              context\n            });\n\n            this.setState({ state: key });\n          };\n          return acc;\n        }, {}) : null\n    };\n  }\n\n  componentDidMount() {\n    const { v, setStateTo, state } = this.state;\n\n    const onValueUpdate = (value) => {\n      this.setState({\n        v: value,\n        velocity: this.value.getVelocity()\n      });\n    };\n\n    this.value.subscribe(onValueUpdate);\n\n    if (state && setStateTo) setStateTo[state]();\n  }\n\n  componentWillReceiveProps(nextProps) {\n    const { setStateTo } = this.state;\n    const { state } = this.props;\n\n    if (state !== nextProps.state) {\n      setStateTo[nextProps.state]();\n    }\n  }\n\n  transitionGroupLifecycleMethod(method, onComplete) {\n    const { setStateTo } = this.state;\n    if (setStateTo[method]) setStateTo[method](onComplete);\n  }\n\n  componentWillAppear(onComplete) {\n    this.transitionGroupLifecycleMethod('componentWillAppear', onComplete);\n  }\n\n  componentDidAppear() {\n    this.transitionGroupLifecycleMethod('componentDidAppear');\n  }\n\n  componentWillEnter(onComplete) {\n    this.transitionGroupLifecycleMethod('componentWillEnter', onComplete);\n  }\n\n  componentDidEnter() {\n    this.transitionGroupLifecycleMethod('componentDidEnter');\n  }\n\n  componentWillLeave(onComplete) {\n    this.transitionGroupLifecycleMethod('componentWillLeave', onComplete);\n  }\n\n  componentDidLeave() {\n    this.transitionGroupLifecycleMethod('componentDidLeave');\n  }\n\n  componentWillUnmount() {\n    if (this.value) this.value.stop();\n  }\n\n  render() {\n    const { children } = this.props;\n    return children(this.state);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ../src/index.js"],"sourceRoot":""}