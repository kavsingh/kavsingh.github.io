<!doctype html><html><head><style>body,html{width:100%;height:100%;padding:0;margin:0}body{display:flex;flex-direction:column;min-height:100vh}.centered-children{display:flex;align-items:center;justify-content:center}.main{position:relative;margin-top:60px;z-index:2}.worlds{display:flex;cursor:pointer}.worlds>:nth-child(n){transform:rotate(180deg)}.worlds>:nth-child(2n){transform:rotate(0)}.thumbnails{height:60px;pointer-events:none;opacity:0;transform:translateY(-20%);transition:all .2s ease-out;cursor:pointer}.main:hover .thumbnails{opacity:1;transform:translateY(0);pointer-events:initial}.snapshot-button{width:1.3em;height:1.3em;cursor:pointer;position:absolute;bottom:2em;left:50%;transform:translateX(-50%)}.snapshot-button svg{fill:#000}.github-link{width:1em;height:1em;position:absolute;top:2em;right:2em}.github-link svg{fill:#888}</style><script>(function(){"use strict";var e={enumerable:!1,configurable:!1,writable:!1},t={enumerable:!0,configurable:!1},n={enumerable:!1,configurable:!0,writable:!1},r=this.Symbol.toStringTag,l=this.Object.defineProperty,o={},i=r;e.value="Module",l(o,i,e),e.value=!0,l(o,"__esModule",e);var c=["001","000"],a=(e,t,n)=>c.includes(`${e}${t}${n}`)?1:0;t.get=function(){return a},l(o,"rule3",t);var u=["100","001"],d=(e,t,n)=>u.includes(`${e}${t}${n}`)?1:0;t.get=function(){return d},l(o,"rule18",t);var h=["101","011","010","000"],s=(e,t,n)=>h.includes(`${e}${t}${n}`)?1:0;t.get=function(){return s},l(o,"rule45",t);var g=["101","100","011","000"],v=(e,t,n)=>g.includes(`${e}${t}${n}`)?1:0;t.get=function(){return v},l(o,"rule57",t);var m=["110","011","000"],f=(e,t,n)=>m.includes(`${e}${t}${n}`)?1:0;t.get=function(){return f},l(o,"rule73",t);var w=["001","100","011","001"],p=(e,t,n)=>w.includes(`${e}${t}${n}`)?1:0;t.get=function(){return p},l(o,"rule90",t);var b=e=>{if(!e)return[];const t=O(Math.floor(e/2)).map(()=>0);return e%2==0?t.slice(0,-1).concat(1).concat(t):t.concat(1).concat(t)},$=["111","101"],E=(e,t,n)=>$.includes(`${e}${t}${n}`)?1:0;t.get=function(){return E},l(o,"rule160",t);var M=["111","101","100","010","001"],C=(e,t,n)=>M.includes(`${e}${t}${n}`)?1:0,y=({worldCount:e,worldsContainer:t,thumbnailsContainer:n,snapshotButton:r})=>{const l=Math.min(Math.floor(window.innerWidth/e),300),i={cellDim:2,worldDim:l,rules:Object.values(o),evolver:void 0,world:[b(l/2)]},c=((e,t,n=40)=>{const r=e.map(F(n));return r.forEach(({element:e})=>{t.appendChild(e)}),r})(i.rules,n),{render:a}=D("canvas2d",t,{count:e,rendererOptions:{cellDim:2,width:l,height:l}});c.forEach(({element:e,evolver:t})=>{e.addEventListener("click",()=>{i.evolver=t})}),t.addEventListener("click",()=>{i.evolver=void 0}),r.addEventListener("click",()=>{N("snapshot.svg",i)}),S(i,{worldCount:e,renderWorld:a})},D=(e,t,{count:n,rendererOptions:r})=>{const l=B(n),o=T(t);switch(e){case"canvas2d":{const t=l(()=>document.createElement("canvas"));return o(t),{type:e,elements:t,render:k(t,r)}}case"svg":{const t=l(()=>document.createElementNS("http://www.w3.org/2000/svg","svg"));return o(t),{type:e,elements:t,render:q(t,r)}}default:return{type:e,elements:[],render:H}}},N=(e,t)=>{const n=document.createElementNS("http://www.w3.org/2000/svg","svg"),r=document.createElement("a");q([n],{width:t.worldDim,height:t.worldDim,cellDim:t.cellDim})(t.world);const l=URL.createObjectURL(new Blob([n.outerHTML],{type:"image/svg+xml;charset=utf-8"}));r.href=l,r.download=e,document.body.appendChild(r),r.click(),document.body.removeChild(r)};t.get=function(){return C},l(o,"rule182",t);var A=["111","110","101","000"],S=(e,{worldCount:t,renderWorld:n})=>{const r=U(P(e.rules),z,G(a),I),l=()=>e.evolver||r(),o=Math.floor(e.worldDim/(2*t));let i=0,c=l();const u=()=>{n(e.world),window.requestAnimationFrame(u)};setInterval(()=>{i=i>=o?0:i+1,c=0===i?l():c,e.world=c(e.world)},14),window.requestAnimationFrame(u)},x=(e,t,n)=>A.includes(`${e}${t}${n}`)?1:0;t.get=function(){return x},l(o,"rule225",t);var O=e=>Array.from({length:e},(e,t)=>t),j=e=>e&&e instanceof CanvasRenderingContext2D,L=(...e)=>e.length>=Q.length?Q(...e):J(Q.bind(null,...e)),k=(e,{width:t=200,height:n=200,cellDim:r=2,fillColor:l="#000000",fillMode:o="active"})=>{const[i,...c]=e,a=i.getContext("2d"),u=c.map(e=>e.getContext("2d")).filter(j);if(!j(a))throw new Error("could not create drawing context");const d=Math.floor(n/r),h=L(W("inactive"===o?0:1)),s=(e,t)=>{const n=h(e);for(let e=0;e<n.length;e++){const l=n[e],o=K(l),i=R(l);void 0!==o&&void 0!==i&&a.fillRect(o*r,t,l.length*r,r)}};return Object.assign(i,{width:t,height:n}),e.forEach(e=>Object.assign(e,{width:t,height:n})),e=>{[a,...u].forEach(e=>{e.clearRect(0,0,t,n),e.fillStyle=l});for(let t=Math.max(0,e.length-d);t<e.length;t++)s(e[t],n-(e.length-t)*r);u.forEach(e=>e.drawImage(i,0,0))}},R=e=>e[e.length-1],F=e=>t=>{const n=document.createElement("canvas"),r=k([n],{cellDim:1,width:e,height:e}),l=I(t);return r(O(e).reduce(e=>l(e),[_(e)])),{evolver:l,element:n}},B=e=>t=>O(e).map(t),T=e=>t=>{const n=document.createDocumentFragment();t.forEach(e=>n.append(e)),e.appendChild(n)},W=(...e)=>e.length>=V.length?V(...e):J(V.bind(null,...e)),q=(e,{width:t=200,height:n=200,cellDim:r=2,fillColor:l="#000000",fillMode:o="active"})=>{const i=Math.floor(n/r),c=L(W("inactive"===o?0:1)),a=(t,n)=>{const o=c(t),i=document.createDocumentFragment();for(let e=0;e<o.length;e++){const t=o[e],c=K(t),a=R(t);if(void 0!==c&&void 0!==a){const e=document.createElementNS("http://www.w3.org/2000/svg","rect");e.setAttributeNS(null,"x",""+c*r),e.setAttributeNS(null,"y",""+n),e.setAttributeNS(null,"width",""+t.length*r),e.setAttributeNS(null,"height",""+r),e.setAttributeNS(null,"fill",l),i.appendChild(e)}}e.forEach(e=>{e.appendChild(i.cloneNode(!0))})};return e.forEach(e=>{e.setAttribute("xmlns","http://www.w3.org/2000/svg"),e.setAttribute("viewBox",`0 0 ${t} ${n}`)}),t=>{e.forEach(e=>{e.innerHTML=""});for(let e=Math.max(0,t.length-i);e<t.length;e++)a(t[e],n-(t.length-e)*r)}},H=(...e)=>{},I=e=>t=>{const n=t[t.length-1],r=X(e,n);return t.concat([Y(n,r)?_(n.length):r])},U=(e,...t)=>(...n)=>t.reduce((e,t)=>t(e),e(...n)),_=e=>O(e).map(()=>Math.floor(2*Math.random())),P=e=>()=>e,z=e=>e[Math.floor(Math.random()*e.length)],G=(...e)=>e.length>=Z.length?Z(...e):J(Z.bind(null,...e)),J=e=>(...t)=>t.length>=e.length?e(...t):J(e.bind(null,...t)),K=e=>e[0],Q=(e,t)=>{const n=[];for(let r=0;r<t.length;r++){if(!e(t[r]))continue;const l=R(n);l&&R(l)===r-1?l.push(r):n.push([r])}return n};n.value=1,l(L,"length",n);var V=(e,t)=>e===t,X=(e,t)=>{const n=ee(t.length);return t.map((r,l)=>e(t[n(l-1)],t[l],t[n(l+1)]))},Y=(...e)=>e.length>=ne.length?ne(...e):J(ne.bind(null,...e)),Z=(e,t)=>null!=t?t:e;n.value=1,l(W,"length",n);var ee=(...e)=>e.length>=te.length?te(...e):J(te.bind(null,...e)),te=(e,t)=>(t%e+e)%e,ne=(e,t)=>{if(W(e,t))return!0;if(re(e)&&re(t))return!0;if(le(e)&&le(t)){const[n,r]=[e,t].map(Object.keys);return n.length===r.length&&n.every(n=>Y(e[n],t[n]))}return!1};n.value=1,l(ee,"length",n);var re=e=>Number.isNaN(e),le=e=>"object"==typeof e;n.value=1,l(Y,"length",n),n.value=1,l(H,"length",n),n.value=2,l(U,"length",n),n.value=1,l(G,"length",n),n.value="main",l(y,"name",n),this.bootApp=y}).call(this)</script></head><body class="centered-children"><div class="main"><div class="worlds centered-children"></div><div class="thumbnails centered-children"></div></div><div class="snapshot-button" role="button"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" style="width:100%;height:100%"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M20 4h-3.17L15 2H9L7.17 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 14H4V6h4.05l1.83-2h4.24l1.83 2H20v12zM12 7c-2.76 0-5 2.24-5 5s2.24 5 5 5 5-2.24 5-5-2.24-5-5-5zm0 8c-1.65 0-3-1.35-3-3s1.35-3 3-3 3 1.35 3 3-1.35 3-3 3z"/></svg></div><a class="github-link" href="https://github.com/kavsingh/cellular-automaton" target="_blank" rel="noopener"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 40 40" style="width:100%;height:100%"><g><path d="m20 0c-11 0-20 9-20 20 0 8.8 5.7 16.3 13.7 19 1 0.2 1.3-0.5 1.3-1 0-0.5 0-2 0-3.7-5.5 1.2-6.7-2.4-6.7-2.4-0.9-2.3-2.2-2.9-2.2-2.9-1.9-1.2 0.1-1.2 0.1-1.2 2 0.1 3.1 2.1 3.1 2.1 1.7 3 4.6 2.1 5.8 1.6 0.2-1.3 0.7-2.2 1.3-2.7-4.5-0.5-9.2-2.2-9.2-9.8 0-2.2 0.8-4 2.1-5.4-0.2-0.5-0.9-2.6 0.2-5.3 0 0 1.7-0.5 5.5 2 1.6-0.4 3.3-0.6 5-0.6 1.7 0 3.4 0.2 5 0.7 3.8-2.6 5.5-2.1 5.5-2.1 1.1 2.8 0.4 4.8 0.2 5.3 1.3 1.4 2.1 3.2 2.1 5.4 0 7.6-4.7 9.3-9.2 9.8 0.7 0.6 1.4 1.9 1.4 3.7 0 2.7 0 4.9 0 5.5 0 0.6 0.3 1.2 1.3 1 8-2.7 13.7-10.2 13.7-19 0-11-9-20-20-20z"/></g></svg></a><script>window.bootApp({worldCount:3,worldsContainer:document.querySelector(".worlds"),thumbnailsContainer:document.querySelector(".thumbnails"),snapshotButton:document.querySelector(".snapshot-button")})</script></body></html>